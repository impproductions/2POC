# async-object-creation
A utility to instantiate objects that need to wait for asynchronous operations in their construction.

## Target Functionality
I wrote this piece of code for an app that was heavily dependent on external libraries which made extensive use of asynchronous operations, so I often found myself in need of creating objects asynchronously. I'm aware (and a fan) of the [object readiness pattern](https://pdconsec.net/blogs/devnull/asynchronous-constructor-design-pattern), but I had a few issues with it for my specific application (mostly, laziness):

- I wanted to have a single instruction when creating the object
- I wanted to be able to call it from the object
- I wanted to have a base class handling the asynchronous creation and inherit from that
- I wanted the child class to be as agnostic as possible in regards to its parent, allowing the client to safely extend it without having to add anything to the child constructor and only overriding abstract properties
- I wanted to preserve parameter names and typing (and autocomplete) for whatever function/method I was going to use for instantiation
- I wanted to rewrite the least possible amount of code when creating new classes

None of which is possible using the readiness pattern, or a factory function/object, which would have a different syntax from the one I was looking for.

i.e.
```typescript
let fooPromise: Promise<Foo> = Foo.createAsync(/*constructor params*/);
```

## Implementation
Direct link: https://github.com/impproductions/portfolio/blob/master/typescript/async-object-creation/main.ts

Playground: [click me](https://www.typescriptlang.org/play?#code/PQKhCgAIUhBBnAngOwMYAsBOB7Z2Cu8k2ARgFYCmqALpKphQIbUCWuk122ANlDACroKkEo3jCEKVAHlyVWqkbIRwigA9qFZABMK2jtkjol27sLFSsuAkXpNWuPpADuLaugK0GAB3stkAOZ02LqQJi7oLGaQ3gzimABu-kGoIcKpALbeZg7KAGbYmBxCwcjw1Jj4NIV8wODgqNxiRACqrNxuLBREAN5QkAOgEAMjMADqjG5EBUUA2rpNiAC6YTqQcTwJ3TE4GSziLm7oYZDIFM6QCYzc+BT9o5AAAt6MmIwZkAuMiJD3AyB1EaQcrMFioMJINCQPIUagYMZHAAiFEWAAovogAFynfAZEgUTAASmxAAVdvsKAAecqYZIAPkgfSBQOAwEghGEnGBLAy+Camk+KO+kH80NhGGSn2YjHqzJGOUu11ukAAvJAAOQwuFCbTqgDcsrlkFZ61h+EwyjJ2D24gAdAxKDRUWcLgBRTA4TCogBEimQ6oUDGYnJ5BO9hMJBr+QIY1HNyhdkCtNqpNPpqNRG24W0JqoZTKNQNSZR4FFt3GwAR9IMwmn0WolgSl1EYYVo3sgAGpTudIIjg6jCbbOAAZbCKMwAZQqyUHkejRvE1H4oc8GdzKvzC8LA2L8FL5crPry-n2OrF2sl2mlbcgHe7if7mkHw+wY4nFGntMCc4NO6NWZbKiVw3BQ87-gMAC+AA0gqLOBRqQfOfyQeAqHgIwJA0owNB0E08BEJIaCyI6tAFoMbLqJoaxcgEkzKBYaBWHghB0EGuR0IwLwkFEbiIH8JruOkkTcPojTNCKti4DSVR1iKyhCRCUgAMLSRUslsMoGSwh4+iGhR7LiPoXLlIUnIlHEfK0NgeTFMJUS6kQjGoKpZTqTQmk7NaFKQKiSjEN4uTXOy7R8cQ+DUN4EWEn8sTYJoNB6KUMnVJg0gRVF1DYkoiBRiybJLjErzvLCBJEKKEqicl7mcJgfx7jVhSDoy27Gmyp6sNcLAAF7CHFvi1l05XKJVYlqZUqUofpbXEFsHosKE4QNRN1lyLhQgMAJYDRjAACSWRmNpyC0M5zE2NVK2edgA2gtJRgEmWkCCOk+FEP1BKsNs8AeHy+j4vJnRdb1+iiopDABHyrwXbJNTMjAABKZoWk5kABFoBJgl5KbFMwnHKP9HL6GIJx5E0QQzMEB2wppsEAHLSPwdnEGttD+CCaB3HDgIjJh2G4c5rkpbkqK2qLrwBPA2XIIgsxLMSSbkuIlI5XS00mmzLbHSwwZM6QpGrPosbxiKrMMVjFJ-CCrDgs5bH2BQRGoJSJKQFRWjaE50uy7BjNuzohGQjILN0qi7j7NiiYi2LmAS6SG4MvwsGi7a4uS0mubkcyJoctiszKSJ2hLLadjBo7fkx-AMWFoJJTi7iWjUE5DBM-AJUQsU2AHHFSS6CDCklKN0OTa1JolwKevyPJ7OoJzRoKhrSgz6qPYXGH8BRynFfIdXbITtwSloILNVXcoC8cwbLhvN4JvySccUpq1Cr3z5apnzPKeB0fl24OXEtDkJyAMyWW4NQeOLUIIzVMs3ZaMMiieEyrfRMb9Z7-mQcXcasD0qRQisvYB1A-wQT3AeCsVZfQYNSuFbBWU7xdlNPAKy28IJGwtFPTWM8CFyiQsXZgGAMwEiJHmcBhDpIHn4U1fhtptIEUYGjBC-53A4AuImd0nofS2xgRQvIkwzDaHDBw5kSE8pGhNMw-ufVFZJWQa1Ux5txD6NQuhQS3RqANFek9Zxjt84OVdhod2AcpAkUnpnKKJAOjgnEgRK0A1qA-DVN6QoLAAj+GuN6fRISwkXgwHoKJH1Yl3l0FoqyqSZomR5JDAUrYMS3wbJEJs14Wy3g0bkNWbIxAAGtoSFCKm8bSmhMBEHquQ2qqIXg9OxGmQIGdWr0IGoOfRRYRFmEPFWdUBTGBWTwhJd6tYfggVuNidUtC17F1ejknZcjmREKWSQ1EqyKCFJAZk882yYmKlAqwxeFADlHMiPAW0NTsk4GiYgRhcp1bIEBh0XqXlolDVvk02GRpjkRPgGc15apRnvHsS0kUVMjonUDmdViCK6pAnSZjW2AshmaUHKSCxytpZbh3tyXk-JhA1KvDeVw7gTgYkfrCJ5iN6GPLVG0Xin0-k1IRO4ZEaIABMAAGJV-8hCAMzN0BhgjM6FmOQC7QaK8l4KMf+E010grcG4D8GxrZ6GoBngRaEZNOlFEUk0zyqIuk5TDk2FE4gq5MKRsob0tr7XwFSa1LhihtR8I9GA7VRorlljEV6CRUjW6yPmUiqwSjewqKamQvkOgAxPLoUUi5QJDHTRjIGwVGqQHYscbvdiwgJ78zWBkJQLAopspvrgJeZ9OocX2J8XAdwTR4AFO4XGmLellUptkam7Bh0dv8C2fwSUKauoLpsh1oMB7NsdpAXpulwAKmcoE3Cap+AeM-gXYuB7A4+gyCEFgJ49B6IwoHC91BhyqqAXW0BWrBklmuUeb0yCd1vSBbkt5+yaHdjwSc5oBqLmJuWT6CDeqYUwb2V8+DpaQH-PFDqFDBpI08PQDGgRm4hG7kWUmj04iPSSO6OmsC+iFHYBzW6RjXoC2iX9KbSFPUW0sw-YYoAA)

Please note that:
- Since the client is extending the base AsyncObject class, everything is handled under the hood
- The asyncConstruction method is abstract, which requires the client to implement it to compile
- The arguments for the creatAsync() method are the same as the child class constructor

Hence the client can inherit from the base class with almost no knowledge and additional work required.